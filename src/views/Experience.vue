<template>
    <div>
        <sub-header :title="'experiences'" :sub-title="' '"></sub-header>
        <div class="experience">
            <div class="container">
                <div class="row">
                    <div class="col-md-8">
                        <div class="card" >
                            
                            <div class="gallery-preview">
                                <h4>Gallery</h4>
                                <div id="resgallery">
                                    <div><img src="http://placehold.it/850x370" alt="" /></div>
                                    <div><img src="http://placehold.it/850x370" alt="" /></div>
                                    <div><img src="http://placehold.it/850x370" alt="" /></div>
                                    <div><img src="http://placehold.it/850x370" alt="" /></div>
                                    <div><img src="http://placehold.it/850x370" alt="" /></div>
                                    <div><img src="http://placehold.it/850x370" alt="" /></div>
                                </div>
                                <br>
                                <div id="resthumb">
                                    <div><img src="http://placehold.it/160x115" alt="" /></div>
                                    <div><img src="http://placehold.it/160x115" alt="" /></div>
                                    <div><img src="http://placehold.it/160x115" alt="" /></div>
                                    <div><img src="http://placehold.it/160x115" alt="" /></div>
                                    <div><img src="http://placehold.it/160x115" alt="" /></div>
                                    <div><img src="http://placehold.it/160x115" alt="" /></div>
                                </div>
                            </div>
                        </div>
                        <br>
                        <div class="card-header description" style="border-bottom: none">
                            <div class="row justify-content-start">
                                <span class="text-norm active">Description</span>
                                <span class="text-norm">Amenities</span>
                                <span class="text-norm">Cancellation Policy</span>
                                <span class="text-norm">The Host & Location</span>
                                <span class="text-norm">Review</span>
                            </div>
                        </div>
                        <br>
                        <div class="card">
                            <div class="card-body">
                                <h4><i class="fas fa-map-marker-alt text-primary"></i> Fuerteventura Spain</h4>
                                <p class="text-black-30 mt-3"><strong>Date Trip-Sharing: 31 Oct 2018 - 02 Nov 2018</strong></p>
                                <p class=" ">asdfasdfasdf</p>
                            </div>
                        </div>
                        <br>
                        <div class="card">
                            <div class="card-body">
                                <h4>Master Details</h4>
                                
                                <div class="row mt-3">
                                    <div class="col-3">
                                        <img src="https://via.placeholder.com/150" class="img-fluid">
                                    </div>
                                    <div class="col-9">
                                        <p><strong class="text-black-30">Admin Admin</strong></p>
                                        <p>
                                            <a href="#">
                                                <i class="fas fa-map-marker-alt"></i>
                                                Gran Canaria Joined to Peer2travel in 29 October 2018
                                            </a>
                                        </p>
                                        <p>
                                            <span class="text-black-30">Reputation Score: </span>
                                            <span>no verification</span>
                                        </p>
                                        <p>
                                            <span class="text-black-30">Total Ratings: </span>
                                            <span>no reviews</span>
                                        </p>
                                        
                                        <a href="#" style="font-size: 17px;">
                                            View Public Profile
                                        </a>
                                    
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br>
                        <div class="card">
                            <div class="card-body">
                                <h4>Interests</h4>
                                
                                <div class="row mt-3">
                                    <div class="col-12">
                                        <button class="mb-2 btn btn-outline-primary">Ourdoors Events</button>&nbsp;
                                        <button class="mb-2 btn btn-outline-primary">Technology Congress</button>&nbsp;
                                        <button class="mb-2 btn btn-outline-primary">Music & Arts</button>&nbsp;
                                        <button class="mb-2 btn btn-outline-primary">Food</button>
                                        <button class="mb-2 btn btn-outline-primary">Skiing / Winter Sports</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br>
                        <div class="card">
                            <div class="card-body">
                                <h4>Perticipants</h4>
                                <div class="row mt-3">
                                    <div class="col-3">
                                        <img src="https://via.placeholder.com/150" class="img-fluid">
                                    </div>
                                    <div class="col-9 Perticipants">
                                        <h5>Admin Admin </h5>
                                        <p class="text-primary"><i class="fas fa-map-marker-alt"></i><span>&nbsp;Gran Canaria joined to Peer2travel in 27 October</span></p>
                                        <a href="#" style="font-size: 17px;">View Public Profile</a>
                                        <p></p>
                                        <div class="row">
                                            <div class="col-md-6 left-events">
                                                <span class="title">Reputation Score: </span> <span class="text-norm">no verificated</span><br>
                                                <span class="title">Total Ratings: </span> <span class="text-norm">no reviews</span>
                                            </div>
                                            <div class="col-md-6 right-events">
                                                <span class="text-norm">Check in: </span><span class="title">31 October 2018</span><br>
                                                <span class="text-norm">Check out: </span><span class="title">02 November 2018</span>
                                            </div>
                                        </div>
                                    </div>
                                
                                
                                </div>
                            </div>
                        </div>
                        <div class="card" style="  margin-top: -3px;">
                            <div class="card-body">
                                    <button class="mb-2 btn btn-outline-primary">Ourdoors Events</button>&nbsp;
                                    <button class="mb-2 btn btn-outline-primary">Technology Congress</button>&nbsp;
                                    <button class="mb-2 btn btn-outline-primary">Music & Arts</button>&nbsp;
                                    <button class="mb-2 btn btn-outline-primary">Food</button>
                                    <button class="mb-2 btn btn-outline-primary">Skiing / Winter Sports</button>
                            </div>
                        </div>
                        <br>
                        <div class="card">
                            <div class="card-body">
                                <h4>Description</h4>
                                
                                <p class="mt-3">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci alias aliquam animi architecto commodi consectetur dolores ea harum itaque, laudantium minus obcaecati placeat quam sed similique sit soluta temporibus velit.</p>
                            </div>
                        </div>
                        <br>
                        <div>
                            <div class="card amenities">
                                <div class="card-body">
                                    <h4>Amenities</h4>
                                    
                                    <div class="row mt-3 iconset">
                                        <div class="col-md-4">
                                            <p><i class="flaticon-credit-card text-primary"></i>&nbsp;&nbsp;<span class="">Accepts Credit Cards</span></p>
                                            <p><i class="flaticon-smoking text-primary"></i>&nbsp;&nbsp;<span class="">Smoking Allowed</span></p>
                                            <p><i class="flaticon-booked text-primary"></i>&nbsp;&nbsp;<span class="">Reservations</span></p>
                                        </div>
                                        <div class="col-md-4">
                                            <p><i class="flaticon-wifi text-primary"></i>&nbsp;&nbsp;<span class="">Wireless Internet</span></p>
                                            <p><i class="flaticon-bicycle text-primary"></i>&nbsp;&nbsp;<span class="">Bike Parking</span></p>
                                            <p><i class="flaticon-coupon text-primary"></i>&nbsp;&nbsp;<span class="">Coupons</span></p>
                                        </div>
                                        <div class="col-md-4">
                                            <p><i class="flaticon-parking text-primary"></i>&nbsp;&nbsp;<span class="">Parking Street</span></p>
                                            <p><i class="flaticon-handicapped text-primary"></i>&nbsp;&nbsp;<span class="">Wheelchair Accessible</span></p>
                                            <p><i class="flaticon-map text-primary"></i>&nbsp;&nbsp;<span class="">Outdoor Seating</span></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br>
                        <div class="card">
                            <div class="card-body">
                                <h4>Cancellation Policy</h4>
                                <div class="row mt-3">
                                    <div class="col-md-12">
                                        
                                        <h6>Strict</h6>
                                        <p>If the guest cancels, the reservation will not be refundable</p>
                                        <h6>Payback</h6>
                                        <p>You can get the money back prior 0 days of arrival if you cancel</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br>
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h4>Host & Location</h4>
                                    </div>
                                    <div class="col-md-6">
                                        <a href="#" class="float-right">Get Direction</a>
                                    </div>
                                </div>
                                <div class="row mt-3"></div>
                                <div id="map">&nbsp;</div>
                                
                                <div class="blocation">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <br>
                                            <p class="small">Collins Street West, Victoria 8007, Australia.</p>
                                            <p class="small">+1 246-345-0695</p>
                                            <p class="small">info@example.com</p>
                                        </div>
                                        <div class="col-md-6">
                                            <br>
                                            <button class="btn btn btn-primary float-right">CONTACT HOST</button>
                                        </div>
                                    </div>
                                    <div class="wsocial">
                                        <a href="#" class="link-hover-primary"><i class="fab fa-facebook"></i></a>
                                        &nbsp;&nbsp;
                                        <a href="#" class="link-hover-primary"><i class="fab fa-twitter"></i></a>
                                        &nbsp;&nbsp;
                                        <a href="#" class="link-hover-primary"><i class="fab fa-linkedin"></i></a>
                                        &nbsp;&nbsp;
                                        <a href="#" class="link-hover-primary"><i class="fab fa-pinterest"></i></a>
                                        &nbsp;&nbsp;
                                        <a href="#" class="link-hover-primary"><i class="fab fa-google"></i></a>
                                        &nbsp;&nbsp;
                                        <a href="#" class="link-hover-primary"><i class="fab fa-dribbble"></i></a>
                                        &nbsp;&nbsp;
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br>
                        <div class="card">
                            <div class="card-body">
                                <h4>Rate us and Write Review</h4>
                                <div class="row mt-3">
                                    <div class="col-md-6"><br>
                                        <label class="file-upload" for="file-upload">
                                            <img src="../../public/images/upload.png" alt="" class="d-block mx-auto">
                                        </label>
                                        <input type="file" id="file-upload" class="d-none">
                                    </div>
                                    <div class="col-md-6">
                                        <div class="float-right">
                                            <span class="text-norm">Your Rating for this listing</span><br><br>
                                            <i class="fas fa-star star-green"></i>
                                            <i class="fas fa-star star-green"></i>
                                            <i class="fas fa-star star-green"></i>
                                            <i class="fas fa-star star-green"></i>
                                            <i class="fas fa-star-half-alt star-green"></i>
                                            &nbsp; <button class="button btn btn-review">Very Good</button>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                                
                                <div class="form-group">
                                    <label>Email *</label>
                                    <input type="email" class="form-control" placeholder="your@email.com">
                                </div>
                                
                                <div class="form-group">
                                    <label>Title</label>
                                    <input type="text" class="form-control" placeholder="Summarize the service or highlight an interesting detail">
                                </div>
                                
                                <div class="form-group">
                                    <label>Review</label>
                                    <textarea name="review" id="" cols="30" rows="6" class="form-control"></textarea>
                                </div>
                                <div class="form-group">
                                    <label></label>
                                    <button class="btn btn-primary">SUBMIT REVIEW</button>
                                </div>
                            
                            </div>
                        </div>
                        <br>
                        <div class="card">
                            <div class="card-body">
                                <h4>Chat With Us</h4>
                                <br>
                                <div class="row" v-for="chat in chats">
                                    <div class="col-md-12">
                                        <p class="chat-text d-inline-block" >{{ chat }}</p>
                                    </div>
                                </div>
                                <br><br><br>
                                <div class="review-input">
                                    <input name="chat"  style="  min-height: 109px; padding: 0 20px" class="form-control " v-model="message" placeholder="Type here to chat....">
                                    <button class="btn btn-circle btn-primary float-right" @click="addChat()">
                                        <i class="fas fa-paper-plane"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card" >
                            <div class="card-header euro text-right">
                                <span class="euro">{{roomTypes[0].Small}}€ - {{roomTypes[2].Large}}€</span><span>per night</span><span>?</span>
                            </div>
                            <div class="card-body">
                                <div class="form-group">
                                    <label >Check In</label>
                                    <datepicker :input-class="'form-control'" v-model="checkin"></datepicker>
                                </div>
                                <div class="form-group">
                                    <label >Check Out</label>
                                    <datepicker :input-class="'form-control'" v-model="checkout"></datepicker>
                                </div>
                                <div class="form-group">
                                    <label for="room">Room</label>
                                    <select name="room" id="room" class="form-control" v-model="roomNumber">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="room">Type</label>
                                    <select name="type" id="type" class="form-control" v-model="roomType">
                                        <option :value="type" v-for="(type, index) in roomTypes">{{Object.keys(type).join(',')}}</option>
                                    </select>
                                </div>
                                
                                <div class="list-group-flush">
                                    <div class="list-group-item" style="border-top: none;">
                                        <div>
                                            <span>Room 1 Small {{totalPrice}}€*{{totalDay}} nights</span>
                                            <span class="float-right">{{roomNumberPriceDay}}€</span>
                                        </div>
                                    </div>
                                    <div class="list-group-item">
                                        <span>Discount({{discount}}%)</span>
                                        <span class="float-right">{{discountTotal}}€</span>
                                    </div>
                                    <div class="list-group-item" style="border-bottom: none;">
                                        <span>Total</span>
                                        <span class=" float-right text-primary">{{withDiscountTotal}}€</span>
                                    </div>
                                    <div class="form-group text-center">
                                        
                                        <button class="btn btn btn-primary btn-block">BOOK NOW!</button>
                                    
                                    
                                    </div>
                                    <div class="from-group text-center">
                                        <a href="#" class="text-norm small">You won't be charged yet</a>
                                    </div>
                                </div>
                                <!--<div id="map">&nbsp;</div>-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</template>

<script>
    import Datepicker from 'vuejs-datepicker'

    export default {
        name: "experience",
        components:{Datepicker},
        data(){
            return{
                name:"Niklesh Raut",
                map:"",
                mapOptions:{},
                message:'',
                chats:[],
                checkin:'',
                checkout:'',
                roomNumber:1,
                roomType:{},
                roomTypes:[
                    {Small:100},
                    {Medium:200},
                    {Large:300},
                ],
                discount:0
            }
        },

        computed:{
            withDiscountTotal(){
                return this.roomNumberPriceDay - this.discountTotal
            },
            discountTotal(){
                if(this.roomNumberPriceDay){
                    return this.roomNumberPriceDay*this.discount/100
                }else{
                    return 0
                }
            },
            roomNumberPriceDay(){
                if(this.totalDay && this.totalPrice){
                    let price  = this.totalPrice
                    return price * this.totalDay * this.roomNumber
                }else{
                    return 0
                }
            },
            totalPrice(){
                if(!_.isEmpty(this.roomType)){
                    return Object.values(this.roomType).join(',')
                }else{
                    return 0
                }
            },
            totalDay(){
                let date1 = this.checkin
                let date2 = this.checkout
                if((date1 && date2) && (date2.getTime()> date1.getTime())){
                    let timeDiff= Math.abs(date2.getTime() - date1.getTime())
                    return Math.ceil(timeDiff / (1000 * 3600 * 24))
                }else{
                    return 0
                }
            }
        },

        mounted(){
            this.googleMap()
            this.slickSlider()
        },
        methods:{

            addChat(){
                this.chats.push(this.message)
                this.message = ''
            },

            googleMap(){
                var latlng = new google.maps.LatLng(53.385846,-1.471385);
                var options = {
                    zoom: 15,
                    center: latlng,
                    mapTypeId: google.maps.MapTypeId.ROADMAP,
                    styles:
                        [
                            {
                                "featureType": "water",
                                "elementType": "geometry",
                                "stylers": [
                                    {
                                        "color": "#46EAEC"
                                    },
                                    {
                                        "lightness": 17
                                    }
                                ]
                            },
                            {
                                "featureType": "landscape",
                                "elementType": "geometry",
                                "stylers": [
                                    {
                                        "color": "#f5f5f5"
                                    },
                                    {
                                        "lightness": 20
                                    }
                                ]
                            },
                            {
                                "featureType": "road.highway",
                                "elementType": "geometry.fill",
                                "stylers": [
                                    {
                                        "color": "#ffffff"
                                    },
                                    {
                                        "lightness": 17
                                    }
                                ]
                            },
                            {
                                "featureType": "road.highway",
                                "elementType": "geometry.stroke",
                                "stylers": [
                                    {
                                        "color": "#ffffff"
                                    },
                                    {
                                        "lightness": 29
                                    },
                                    {
                                        "weight": 0.2
                                    }
                                ]
                            },
                            {
                                "featureType": "road.arterial",
                                "elementType": "geometry",
                                "stylers": [
                                    {
                                        "color": "#ffffff"
                                    },
                                    {
                                        "lightness": 18
                                    }
                                ]
                            },
                            {
                                "featureType": "road.local",
                                "elementType": "geometry",
                                "stylers": [
                                    {
                                        "color": "#ffffff"
                                    },
                                    {
                                        "lightness": 16
                                    }
                                ]
                            },
                            {
                                "featureType": "poi",
                                "elementType": "geometry",
                                "stylers": [
                                    {
                                        "color": "#f5f5f5"
                                    },
                                    {
                                        "lightness": 21
                                    }
                                ]
                            },
                            {
                                "featureType": "poi.park",
                                "elementType": "geometry",
                                "stylers": [
                                    {
                                        "color": "#dedede"
                                    },
                                    {
                                        "lightness": 21
                                    }
                                ]
                            },
                            {
                                "elementType": "labels.text.stroke",
                                "stylers": [
                                    {
                                        "visibility": "on"
                                    },
                                    {
                                        "color": "#ffffff"
                                    },
                                    {
                                        "lightness": 16
                                    }
                                ]
                            },
                            {
                                "elementType": "labels.text.fill",
                                "stylers": [
                                    {
                                        "saturation": 36
                                    },
                                    {
                                        "color": "#333333"
                                    },
                                    {
                                        "lightness": 40
                                    }
                                ]
                            },
                            {
                                "elementType": "labels.icon",
                                "stylers": [
                                    {
                                        "visibility": "off"
                                    }
                                ]
                            },
                            {
                                "featureType": "transit",
                                "elementType": "geometry",
                                "stylers": [
                                    {
                                        "color": "#f2f2f2"
                                    },
                                    {
                                        "lightness": 19
                                    }
                                ]
                            },
                            {
                                "featureType": "administrative",
                                "elementType": "geometry.fill",
                                "stylers": [
                                    {
                                        "color": "#fefefe"
                                    },
                                    {
                                        "lightness": 20
                                    }
                                ]
                            },
                            {
                                "featureType": "administrative",
                                "elementType": "geometry.stroke",
                                "stylers": [
                                    {
                                        "color": "#fefefe"
                                    },
                                    {
                                        "lightness": 17
                                    },
                                    {
                                        "weight": 1.2
                                    }
                                ]
                            }
                        ],
                };
                var map = new google.maps.Map(document.getElementById('map'), options);

                var image = new google.maps.MarkerImage(require('../../static/pincontact.png'),
                    new google.maps.Size(100, 100),
                    new google.maps.Point(0,0),
                    new google.maps.Point(18, 42)
                );

                var marker1 = new google.maps.Marker({
                    position: new google.maps.LatLng(53.385846,-1.471385),
                    map: map,
                    icon: image // This path is the custom pin to be shown. Remove this line and the proceeding comma to use default pin
                });
            },
            slickSlider(){
                $('#resgallery').slick({
                    slidesToShow: 1,
                    slidesToScroll: 1,
                    arrows: true,
                    fade: false,
                    asNavFor: '#resthumb'
                });
                $('#resthumb').slick({
                    slidesToShow: 4,
                    slidesToScroll: 1,
                    asNavFor: '#resgallery',
                    dots: false,
                    arrows: false,
                    autoplay: true,
                    focusOnSelect: true,
                    responsive: [
                        {
                            breakpoint: 1200,
                            settings: {
                                slidesToShow: 3,
                                slidesToScroll: 1,
                                infinite: true,
                                centerMode: true,
                                centerPadding: '60px',
                                dots: false
                            }
                        },
                        {
                            breakpoint: 980,
                            settings: {
                                slidesToShow: 3,
                                slidesToScroll: 1,
                                infinite: true,
                                centerMode: true,
                                centerPadding: '50px',
                                dots: false
                            }
                        },
                        {
                            breakpoint: 767,
                            settings: {
                                slidesToShow: 3,
                                slidesToScroll: 1,
                                infinite: true,
                                centerMode: true,
                                centerPadding: '70px',
                                dots: false
                            }
                        },
                        {
                            breakpoint: 520,
                            settings: {
                                slidesToShow: 3,
                                slidesToScroll: 1,
                                infinite: true,
                                centerMode: true,
                                centerPadding: '0px',
                                dots: false
                            }
                        }
                    ]
                });

                $('.slick-prev.slick-arrow').css({"left": "10px", "z-index":"99999"})
                $('.slick-next.slick-arrow').css({"right": "10px", "z-index":"99999"})
            }
        }
    }
</script>

<style lang="scss" scoped>
    .review-input .form-control::-webkit-input-placeholder {
        color: #A2A2A2 !important;
        font-size:16px;
        font-weight: 400px;
    }
    
    .btn-review{
        border: 1px solid #b4c52c;
        color: btn-revie;
        background: transparent;
        color: #b4c52c;
        font-weight: 500;
    }
    .Perticipants{
        .left-events{
            .title{
                color: #5d5d5d;
                font-weight: 500;
            }
        }
        .right-events{
            .title{
                color: #5d5d5d;
                font-weight: 500;
            }
        }
    }
    .card-header{
        &.description{
            padding: 20px 20px;
            .text-norm.active{
                color:#FE575F ;
            }
            span{
                padding-left: 28px;
                font-size: 15px;
                color: #7A7A7A;
            }
        }
    }
    .card{
        border: 1px solid #EDEDED;
        
        .card-header{
            &.euro{
                background: #FAFAFA!important;
                border-bottom:  1px solid #EDEDED;
                span{
                    font-size: 24px;
                    color: #fe575f;
                    font-weight: 500;
                    
                    &:nth-child(2){
                        padding-left: 5px;
                        font-size: 15px;
                        font-weight: bold;
                        color: #444444;
                    }
                    &:nth-child(3){
                        height: 16px;
                        width: 25px;
                        color: #ffffff;
                        border-radius: 100%;
                        background: #fe575f;
                        font-size: 13px;
                        padding: 3px 9px;
                        transform: translateY(10px);
                        margin-left: 4px;
                        margin-top: -29px;
                    }
                }
                
            }
        }
        .card-body{
            padding: 30px;
            .form-group{
                label{
                    color:#505050;
                    font-weight: 500;
                }
                .form-control{
                    background-color: transparent;
                }
            }
        }
    }
    .amenities{
        i{
            font-size: 25px;
        }
        .iconset{
            p{
                display: flex;
                justify-content: flex-start;
                align-items: center;
            }
        }
    }
    .gallery-preview{
        h4{
            margin-bottom: 20px;
        }
        padding:30px;
        #resthumb{
            /*padding-left: 20px;*/
        }
    }
    .experience{
        padding: 51px 0;
        
    }
    .active{
        color: #fe575f;
    }
    #map {
        height:270px;
        width: 100%;
    }
</style>
